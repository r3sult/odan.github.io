{% for post in site.posts %}
<a href="{{ post.url }}" target="_blank">{{ post.title }}</a> ({{ post.date | date: "%Y-%m-%d" }})<br>
{% endfor %}

<h2>Archive</h2>
{% assign postsByYearMonth = site.posts | group_by_exp:"post", "post.date | date: '%Y %b'"  %}
{% for yearMonth in postsByYearMonth %}
<h3>{{ yearMonth.name }}</h3>
<ul>
    {% for post in yearMonth.items %}
    <li><a href="{{ post.url }}">{{ post.title }}</a></li>
    {% endfor %}
</ul>
{% endfor %}

<hr>
By year

<hr>

{% assign postsByYear = site.posts | group_by_exp:"post", "post.date | date: '%Y'" %}
<nav class="menu browse by-year text-center" aria-label="year">
    <strong aria-hidden="true">Jump to:</strong>
    {% for year in postsByYear %}
    <a href="#{{ year.name }}"><span class="visually-hidden">jump to posts from</span>{{ year.name }}</a>
    {% endfor %}
</nav>
{% for year in postsByYear %}
<h2 id="{{ year.name }}">{{ year.name }}</h2>
<ul aria-label="posts from {{ year.name }}">
    {% for post in year.items %}
    <li>
        {% include post/post-list-item.html %}
    </li>
    {% endfor %}
</ul>
{% endfor %}